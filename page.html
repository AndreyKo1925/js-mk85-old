<!DOCTYPE html>
<html>
<body>

<h1>My First Web Page</h1>
<p>My first paragraph.</p>

<p>
Activate debugging in your browser (Chrome, IE, Firefox) with F12, and select "Console" in the debugger menu.
</p>

<script>

var segments = [
	/* special segments according to http://www.pisi.com.pl/piotr433/mk85hwe.htm#lcdc */
	{row:3, col:1,  bit:0,   text:"E X T"},
	{row:2, col:8,  bit:1,   text:"S"},
	{row:3, col:8,  bit:2,   text:"F"},
	{row:2, col:11, bit:64,  text:"R U N"},
	{row:3, col:11, bit:65,  text:"W R T"},
	{row:3, col:19, bit:68,  text:"D E G"},
	{row:3, col:27, bit:192, text:"R A D"},
	{row:3, col:35, bit:256, text:"G R A"},
	{row:3, col:43, bit:320, text:"T R"},
	// 7-segment 1
	{row:2, col:51, bit:385, text:"_"},		// g
	{row:2, col:50, bit:384, text:"/"},		// f
	{row:3, col:49, bit:386, text:"/"},		// e
	{row:3, col:50, bit:387, text:"_"},		// d
	{row:3, col:51, bit:388, text:"/"},		// c
	{row:2, col:52, bit:448, text:"/"},		// b
	{row:1, col:51, bit:449, text:"__"},	// a
	// 7-segment 2
	{row:2, col:58, bit:451, text:"_"},		// g
	{row:2, col:57, bit:450, text:"/"},		// f
	{row:3, col:56, bit:452, text:"/"},		// e
	{row:3, col:57, bit:512, text:"_"},		// d
	{row:3, col:58, bit:513, text:"/"},		// c
	{row:2, col:59, bit:514, text:"/"},		// b
	{row:1, col:58, bit:515, text:"__"},	// a
	// 7-segment 3
	{row:2, col:64, bit:576, text:"_"},		// g
	{row:2, col:63, bit:516, text:"/"},		// f
	{row:3, col:62, bit:577, text:"/"},		// e
	{row:3, col:63, bit:578, text:"_"},		// d
	{row:3, col:64, bit:579, text:"/"},		// c
	{row:2, col:65, bit:580, text:"/"},		// b
	{row:1, col:64, bit:640, text:"__"},	// a
	// 7-segment 4
	{row:2, col:72, bit:642, text:"_"},		// g
	{row:2, col:71, bit:641, text:"/"},		// f
	{row:3, col:70, bit:643, text:"/"},		// e
	{row:3, col:71, bit:644, text:"_"},		// d
	{row:3, col:72, bit:704, text:"/"},		// c
	{row:2, col:73, bit:705, text:"/"},		// b
	{row:1, col:72, bit:706, text:"__"},	// a

	{row:3, col:76, bit:707, text:"S T O P"}
];

var genStatusSegments = ['ext',['s','f'],['run','wrt'],'deg','rad','gra','tr','7s3','7s2','7s1','7s0','stop'];
var statusSegments = [];

function createDisplay() {
    var body = document.body,
        lcd  = document.createElement('table');
    lcd.style.width  = '500px';
    lcd.style.border = '1px solid black';
    lcd.style.fontFamily = 'monospace';
    
    var statusLine = lcd.insertRow();

    var arrayLength = genStatusSegments.length;
    
    for(var i = 0; i < arrayLength; i++) {
        var segBoth   = statusLine.insertCell();
        var segs      = genStatusSegments[i];
        console.log(segs);
        if(Array.isArray(segs)) {
            // создадим 2 параграфа друг над другом
            var segTop    = document.createElement('p');
            var segBottom = document.createElement('p');
            segTop.id             = 'seg'.concat(segs[0].charAt(0).toUpperCase(), segs[0].slice(1));
            segBottom.id          = 'seg'.concat(segs[1].charAt(0).toUpperCase(), segs[1].slice(1));
            segTop.textContent    = segs[0];
            segBottom.textContent = segs[1];
            segBoth.appendChild(segTop);
            segBoth.appendChild(segBottom);
            statusSegments.push(segTop, segBottom);
        } else {
            // иначе попросту сделаем 1 ячейку
            segBoth.id            = 'seg'.concat(segs.charAt(0).toUpperCase(), segs.slice(1));
            segBoth.appendChild(document.createTextNode(segs));
            statusSegments.push(segBoth);
        }
    }
    console.log(statusSegments);
    
    body.appendChild(lcd);
    
}
createDisplay();
//tableCreate();

console.log(5 + 6);
</script>

</body>
</html> 
